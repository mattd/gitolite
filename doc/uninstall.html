<p><head><style>
    body        { margin-left:  40px;   font-size:  0.9em;  font-family: sans-serif; max-width: 800px; }
    h1          { background: #ffb; margin-left: -30px;   border-bottom: 5px  solid #ccc; }
    h2, h3      { background: #ffb; margin-left: -30px;   border-top:    3px  solid #ddd; }
    h4, h5      { background: #ffb; margin-left: -20px; }
    code        { font-size:    1.1em;  background:  #ddf; }
    pre         { margin-left:  2em;    background:  #ddf; }
    pre code    { font-size:    1.1em;  background:  #ddf; }
</style></head></p>

<h2>uninstalling gitolite</h2>

<p>Sometimes you might find gitolite is overkill -- you have only one user
(yourself) pushing maybe.  Or maybe gitolite is just not enough -- you want a
web-based front end that users can use to manage their keys themselves, etc.,
in which case you'd probably switch to <a href="http://github.com">github</a>, <a href="http://repo.or.cz/w/girocco.git">girocco</a>,
<a href="http://www.indefero.net/">indefero</a> or <a href="http://gitorious.com/">gitorious</a>.  <a href="http://code.google.com/p/gerrit/">Gerrit</a> is quite nice too, if you
want collaborative code review there's nothing like it.  Either way, you'd
like to uninstall gitolite.</p>

<p>Uninstalling gitolite is fairly easy, although it is manual.  (We'll assume
<code>$REPO_BASE</code> in the rc file was left at its default of <code>~/repositories</code>; if
not, adjust accordingly):</p>

<p><strong>server side tasks</strong></p>

<ul>
<li><p>edit <code>~/.ssh/authorized_keys</code> and delete the <code># gitolite start</code> and <code>#
gitolite end</code> markers and all the lines between them.  This will prevent
any of your users from attempting a push while you are doing this.</p>

<p>If you are the only user, and/or <em>need</em> one or more of those keys to
continue to access this account (like if one of them is your laptop or
your home desktop etc.) then instead of deleting the line you can just
delete everything upto but not including the words "ssh-rsa" or "ssh-dss".</p></li>
<li><p>Now remove (or move aside or rename to something else if you're paranoid)
the following files and directories.</p>

<pre><code>~/.gitolite
~/.gitolite.rc
~/repositories/gitolite-admin.git
</code></pre></li>
<li><p>You can remove all of <code>~/repositories</code> if you have not really started
using gitolite properly yet; that's your choice.</p>

<p>If you <em>do</em> need to preserve the other repos and continue to use them,
remove all the <code>update</code> hooks that git installs on each repository.  The
easiest way is:</p>

<pre><code>find ~/repositories -wholename "*.git/hooks/update" | xargs rm -f
</code></pre>

<p>but you can do it manually if you want to be careful.</p></li>
</ul>

<p><strong>client side tasks</strong></p>

<ul>
<li><p>Any remote users that still have access must update their clone's remote
URLs (edit <code>.git/config</code> in the repo) to prefix <code>repositories/</code> before the
actual path used, in order for the remote to still work.  This is because
you'll now be accessing it through plain ssh, which means you have to give
it the full path.</p></li>
<li><p>Finally, you as the gitolite admin will probably have a host stanza for
"gitolite" in your <em>client</em>'s <code>~/.ssh/config</code>.  Find and delete lines that
look like this:</p>

<pre><code>host gitolite
    user git
    hostname your.server
    port 22
    identityfile ~/.ssh/your-gitolite-admin-username
</code></pre></li>
</ul>
